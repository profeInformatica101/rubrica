<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guía Completa: Gestión de Usuarios, Permisos y Seguridad en Linux</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            padding: 20px;
        }
        .icon {
            font-size: 1.5rem;
        }
        .section {
            margin-top: 30px;
        }
        .section h2 {
            margin-bottom: 20px;
        }
        .highlight {
            background-color: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 10px;
            margin-top: 20px;
        }
        code{
            color:firebrick;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center"><i class="fas fa-user-cog"></i> Gestión de Usuarios, Grupos y Permisos en Linux</h1>
        <p class="text-center text-muted">Tutorial sobre cómo crear usuarios, grupos y gestionar permisos en sistemas Linux.</p>

        <!-- Sección: Creación de usuarios y grupos -->
        <section class="mt-5">
            <h2><i class="fas fa-users"></i> Creación de Usuarios y Grupos</h2>
            <p>Ejecuta los siguientes comandos para crear usuarios y grupos:</p>
            <pre class="bg-light p-3">
Bash
# Crear los usuarios con contraseña por defecto
useradd usuario1
useradd usuario2
useradd usuario3

# Crear los grupos
groupadd grupo1
groupadd grupo2
            </pre>
            <p><strong>Precaución:</strong> Usa este código con cuidado, especialmente en entornos de producción.</p>
        </section>

        <!-- Sección: Asignación de usuarios a grupos -->
        <section class="mt-5">
            <h2><i class="fas fa-user-plus"></i> Asignación de Usuarios a Grupos</h2>
            <p>Para agregar usuarios a los grupos recién creados:</p>
            <pre class="bg-light p-3">
Bash
# Asignar usuarios a grupos
usermod -aG grupo1 usuario1
usermod -aG grupo1 usuario2
usermod -aG grupo2 usuario3
            </pre>
            <p><strong>Precaución:</strong> Usa este código con cuidado, especialmente en entornos de producción.</p>
        </section>

        <!-- Sección: Configuración de permisos en carpetas -->
        <section class="mt-5">
            <h2><i class="fas fa-folder"></i> Configuración de Permisos en Carpetas</h2>
            <p>Para configurar permisos en las carpetas correspondientes:</p>
            <pre class="bg-light p-3">
Bash
# Crear las carpetas (si no existen)
mkdir /proyecto1 /proyecto2 /compartido /privado

# Asignar permisos a /proyecto1 (solo lectura, escritura y ejecución para grupo1)
chmod 750 /proyecto1
chgrp grupo1 /proyecto1

# Asignar permisos a /proyecto2 (lectura y escritura para grupo2, solo lectura para grupo1)
chmod 764 /proyecto2
chgrp grupo2 /proyecto2

# Asignar permisos a /compartido (acceso total para todos)
chmod 777 /compartido

# Asignar permisos a /privado (solo para usuario1)
chown usuario1:usuario1 /privado
chmod 700 /privado
            </pre>
            <p><strong>Precaución:</strong> Usa este código con cuidado, especialmente en entornos de producción.</p>
        </section>

        <!-- Sección: Explicación de comandos -->
        <section class="mt-5">
            <h2><i class="fas fa-info-circle"></i> Explicación de los Comandos</h2>
            <ul>
                <li><code>useradd</code>: Crea un nuevo usuario.</li>
                <li><code>groupadd</code>: Crea un nuevo grupo.</li>
                <li><code>usermod</code>: Modifica las propiedades de un usuario existente.</li>
                <li><code>-aG</code>: Agrega un usuario a un grupo existente.</li>
                <li><code>chmod</code>: Cambia los permisos de un archivo o directorio.</li>
                <li><code>chgrp</code>: Cambia el grupo propietario de un archivo o directorio.</li>
                <li><code>chown</code>: Cambia tanto el propietario como el grupo de un archivo o directorio.</li>
            </ul>
        </section>

        <!-- Sección: Explicación de permisos numéricos -->
        <section class="mt-5">
            <h2><i class="fas fa-key"></i> Explicación de los Permisos Numéricos</h2>
            <ul>
                <li><strong>750:</strong> El propietario tiene todos los permisos (rwx), el grupo tiene lectura y ejecución (rx), y otros no tienen permisos.</li>
                <li><strong>764:</strong> El propietario tiene todos los permisos, el grupo tiene lectura y escritura (rw), y otros solo lectura (r).</li>
                <li><strong>777:</strong> Todos los usuarios tienen todos los permisos.</li>
                <li><strong>700:</strong> Solo el propietario tiene todos los permisos.</li>
            </ul>
        </section>

        <!-- Sección: Consideraciones adicionales -->
        <section class="mt-5">
            <h2><i class="fas fa-exclamation-triangle"></i> Consideraciones Adicionales</h2>
            <ul>
                <li><strong>Seguridad:</strong> Configurar contraseñas fuertes para cada usuario.</li>
                <li><a href="ACL.html"><strong>ACLs:</strong></a> Para un control más granular, utiliza Listas de Control de Acceso (ACL).</li>
                <li><strong>Grupos:</strong> Úsalos para gestionar permisos de forma eficiente entre múltiples usuarios.</li>
                <li><strong>Permisos especiales:</strong> Aprende sobre SUID, SGID y sticky bit para situaciones avanzadas.</li>
            </ul>
        </section>

        <!-- Sección: Ejemplo con ACL -->
        <section class="mt-5">
            <h2><i class="fas fa-unlock-alt"></i> Ejemplo con ACL</h2>
            <p>Si deseas otorgar permisos de escritura a un usuario específico (<code>usuario3</code>) sobre el archivo <code>/proyecto1</code>, aunque no pertenezca al grupo <code>grupo1</code>, utiliza ACL:</p>
            <pre class="bg-light p-3">
Bash
setfacl -m u:usuario3:w /proyecto1
            </pre>
            <p><strong>Nota:</strong> Siempre verifica los permisos después de realizar cambios utilizando <code>ls -l</code>.</p>
        </section>
    </div>

    <div class="container">
        <h1 class="text-center"><i class="fas fa-user-cog"></i> Gestión de Usuarios, Permisos y Seguridad en Linux</h1>

        <!-- Tabla Resumen -->
        <div class="section">
            <h2><i class="fas fa-users"></i> Tabla Resumen</h2>
            <table class="table table-striped table-bordered">
                <thead class="table-dark">
                    <tr>
                        <th>Comando</th>
                        <th>Descripción</th>
                        <th>Parámetros Esenciales</th>
                        <th>Ejemplo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>useradd</code></td>
                        <td>Crea un nuevo usuario</td>
                        <td><code>-m</code>: Crea un directorio personal<br><code>-s</code>: Define el shell</td>
                        <td><code>sudo useradd -m -s /bin/bash usuario1</code></td>
                    </tr>
                    <tr>
                        <td><code>usermod</code></td>
                        <td>Modifica un usuario existente</td>
                        <td><code>-aG</code>: Añadir al grupo<br><code>-s</code>: Cambiar shell</td>
                        <td><code>sudo usermod -aG grupo1 usuario1</code></td>
                    </tr>
                    <tr>
                        <td><code>groupadd</code></td>
                        <td>Crea un nuevo grupo</td>
                        <td>No tiene parámetros esenciales</td>
                        <td><code>sudo groupadd grupo1</code></td>
                    </tr>
                    <tr>
                        <td><code>chmod</code></td>
                        <td>Cambia los permisos de archivos y carpetas</td>
                        <td><code>770</code>: Permisos en formato octal</td>
                        <td><code>sudo chmod 770 /ruta</code></td>
                    </tr>
                    <tr>
                        <td><code>chown</code></td>
                        <td>Cambia el propietario de un archivo o carpeta</td>
                        <td><code>usuario:grupo</code>: Define propietario y grupo</td>
                        <td><code>sudo chown usuario1:grupo1 /ruta</code></td>
                    </tr>
                    <tr>
                        <td><code>setfacl</code></td>
                        <td>Establece ACL para permisos avanzados</td>
                        <td><code>-m</code>: Modificar ACL</td>
                        <td><code>sudo setfacl -m g:grupo1:rwx /ruta</code></td>
                    </tr>
                    <tr>
                        <td><code>passwd</code></td>
                        <td>Establece o cambia la contraseña de un usuario</td>
                        <td>No tiene parámetros esenciales</td>
                        <td><code>echo "usuario1:contraseña" | sudo chpasswd</code></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Sección de Definiciones y Ejemplos de AAA en Linux -->
        <div class="section">
            <h2><i class="fas fa-key"></i> Definiciones y Ejemplos de AAA en Linux</h2>

            <!-- Accounting (Auditoría) -->
            <div class="highlight">
                <h3><i class="fas fa-shield-alt"></i> Accounting (Auditoría)</h3>
                <p><strong>Definición:</strong> Proceso de registrar las acciones realizadas en un sistema, incluyendo quién, cuándo y qué hizo, para análisis, reporte y auditoría.</p>
                <ul>
                    <li><strong>Ubicación de logs:</strong> <code>/var/log/</code></li>
                    <li><strong>Ejemplos:</strong>
                        <ul>
                            <li>Registro de accesos: <code>/var/log/auth.log</code></li>
                            <li>Comando para ver los últimos accesos: <code>sudo tail /var/log/auth.log</code></li>
                        </ul>
                    </li>
                    <li><strong>Auditoría avanzada con <code>auditd</code>:</strong>
                        <ul>
                            <li>Instalar: <code>sudo apt install auditd</code></li>
                            <li>Ver registros: <code>sudo ausearch -m USER_AUTH</code></li>
                        </ul>
                    </li>
                </ul>
            </div>

            <!-- Autenticación -->
            <div class="highlight">
                <h3><i class="fas fa-user-check"></i> Autenticación</h3>
                <p><strong>Definición:</strong> Verifica la identidad de un usuario mediante contraseñas, tokens o datos biométricos.</p>
                <ul>
                    <li><strong>Ejemplo básico:</strong> Iniciar sesión con usuario y contraseña.</li>
                    <li><strong>Autenticación SSH:</strong>
                        <ul>
                            <li>Configurar una llave SSH: <code>ssh-keygen -t rsa</code></li>
                            <li>Agregar llave al servidor: <code>ssh-copy-id usuario@servidor</code></li>
                        </ul>
                    </li>
                    <li><strong>Ver registros de autenticación fallida:</strong>
                        <ul>
                            <li>Comando: <code>grep "Failed password" /var/log/auth.log</code></li>
                        </ul>
                    </li>
                </ul>
            </div>

            <!-- Autorización -->
            <div class="highlight">
                <h3><i class="fas fa-user-shield"></i> Autorización</h3>
                <p><strong>Definición:</strong> Determina si un usuario tiene permisos para realizar una acción específica.</p>
                <ul>
                    <li><strong>Ejemplo básico: Permisos sobre archivos</strong>
                        <ul>
                            <li>Comprobar permisos: <code>ls -l /ruta</code></li>
                            <li>Asignar permisos: <code>sudo chmod 750 /ruta</code></li>
                        </ul>
                    </li>
                    <li><strong>Control avanzado con ACL:</strong>
                        <ul>
                            <li>Permitir acceso a un grupo: <code>sudo setfacl -m g:grupo1:rwx /ruta</code></li>
                            <li>Ver permisos ACL: <code>getfacl /ruta</code></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Sección de Ejemplos Prácticos -->
        <div class="section">
            <h2><i class="fas fa-tools"></i> Ejemplos Prácticos</h2>
            <div class="highlight">
                <h3><i class="fas fa-key"></i> Configuración de SSH con Claves</h3>
                <ol>
                    <li>Generar una clave SSH:
                        <code>ssh-keygen -t rsa -b 4096</code></li>
                    <li>Copiar la clave al servidor:
                        <code>ssh-copy-id usuario@servidor</code></li>
                    <li>Verificar autenticación con clave:
                        <code>ssh usuario@servidor</code></li>
                </ol>
            </div>
            <div class="highlight">
                <h3><i class="fas fa-folder"></i> Configuración de ACL para Directorios Compartidos</h3>
                <ol>
                    <li>Crear un directorio: <code>sudo mkdir /compartido</code></li>
                    <li>Asignar permisos básicos:
                        <code>sudo chmod 770 /compartido</code></li>
                    <li>Configurar ACL para un grupo:
                        <code>sudo setfacl -m g:grupo1:rwx /compartido</code></li>
                    <li>Verificar permisos ACL:
                        <code>getfacl /compartido</code></li>
                </ol>
            </div>
        </div>

        <!-- Sección de Seguridad -->
        <div class="section">
            <h2><i class="fas fa-shield-alt"></i> Seguridad en la Gestión de Usuarios y Permisos</h2>
            <ul>
                <li>Usar contraseñas seguras combinando caracteres especiales, números y letras.</li>
                <li>Configurar bloqueo de cuentas tras múltiples intentos fallidos:
                    <code>sudo nano /etc/security/faillog.conf</code></li>
                <li>Deshabilitar cuentas inactivas:
                    <code>sudo usermod -L usuario</code></li>
                <li>Habilitar auditoría con <code>auditd</code>:
                    <code>sudo apt install auditd</code></li>
            </ul>
        </div>

        <!-- Sección de Temas Avanzados -->
        <div class="section">
            <h2><i class="fas fa-brain"></i> Temas Avanzados</h2>
            <div class="highlight">
                <h3><i class="fas fa-server"></i> PAM (Pluggable Authentication Modules)</h3>
                <p>Personaliza los procesos de autenticación editando el archivo:
                    <code>/etc/pam.d/</code>.</p>
            </div>
            <div class="highlight">
                <h3><i class="fas fa-lock"></i> SELinux</h3>
                <p>Implementa control de acceso basado en políticas:
                    <code>sestatus</code> para verificar el estado.</p>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

